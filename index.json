[{"content":"Today I Read Link https://blog.devgenius.io/redis-vs-kafka-vs-rabbitmq-e935ebbc7ec\nWhat I Learned  Means of communictaion between microservices: sync. and async.  REST for sync. MQ for async.   Considerations for choosing the right MQ:  Broker scale: # messages / sec. Data persistency: the ability to recover messages Consumer capability: Capability for 1:1 or 1:N   Different message brokers and their purposes  RabbitMQ (AMQP) for complex routing Kafka for large amounts of data Redis for short-lived messages    ","permalink":"https://litsynp.github.io/posts/2022-01-07/","summary":"Today I Read Link https://blog.devgenius.io/redis-vs-kafka-vs-rabbitmq-e935ebbc7ec\nWhat I Learned  Means of communictaion between microservices: sync. and async.  REST for sync. MQ for async.   Considerations for choosing the right MQ:  Broker scale: # messages / sec. Data persistency: the ability to recover messages Consumer capability: Capability for 1:1 or 1:N   Different message brokers and their purposes  RabbitMQ (AMQP) for complex routing Kafka for large amounts of data Redis for short-lived messages    ","title":"[TIR] Redis vs Kafka vs RabbitMQ"},{"content":"ë¬¸ì œ Django ë° DRFì—ì„œ modelì— ì •ì˜í•˜ì§€ ì•Šì€ í•„ë“œë¥¼ POST / PUTìš© serializerì— ì¶”ê°€í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤. ê·¸ëƒ¥ serializers.CharField()ë¡œ ì¶”ê°€í•˜ë©´ unexpected keywordë¼ê³  ëœ¨ë©´ì„œ ì¶”ê°€í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\ní•´ê²°ë²• Serializerì— ì¶”ê°€í•´ë‘” í•„ë“œë¥¼ validate ë©”ì†Œë“œì—ì„œ model ìƒì„±ì— ì‚¬ìš©ë˜ì§€ ì•Šë„ë¡ pop() ì‹œì¼œì¤€ë‹¤.\nclass UserSerializer(serializers.ModelSerializer): non_model_field = serializers.CharField(max_length=300, allow_blank=True, write_only=True) class Meta: model = User fields = (\u0026#39;id\u0026#39;, \u0026#39;username\u0026#39;, \u0026#39;password\u0026#39;, \u0026#39;non_model_field\u0026#39;) def validate(self, attrs): # ... attrs.pop(\u0026#39;non_model_field\u0026#39;, None) return super().validate(attrs) REF Stack Overflow\n","permalink":"https://litsynp.github.io/posts/2022-01-05/","summary":"ë¬¸ì œ Django ë° DRFì—ì„œ modelì— ì •ì˜í•˜ì§€ ì•Šì€ í•„ë“œë¥¼ POST / PUTìš© serializerì— ì¶”ê°€í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤. ê·¸ëƒ¥ serializers.CharField()ë¡œ ì¶”ê°€í•˜ë©´ unexpected keywordë¼ê³  ëœ¨ë©´ì„œ ì¶”ê°€í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\ní•´ê²°ë²• Serializerì— ì¶”ê°€í•´ë‘” í•„ë“œë¥¼ validate ë©”ì†Œë“œì—ì„œ model ìƒì„±ì— ì‚¬ìš©ë˜ì§€ ì•Šë„ë¡ pop() ì‹œì¼œì¤€ë‹¤.\nclass UserSerializer(serializers.ModelSerializer): non_model_field = serializers.CharField(max_length=300, allow_blank=True, write_only=True) class Meta: model = User fields = (\u0026#39;id\u0026#39;, \u0026#39;username\u0026#39;, \u0026#39;password\u0026#39;, \u0026#39;non_model_field\u0026#39;) def validate(self, attrs): # ... attrs.pop(\u0026#39;non_model_field\u0026#39;, None) return super().validate(attrs) REF Stack Overflow","title":"[DRF] Serializerì— writable non-model field ì¶”ê°€í•˜ê¸°"},{"content":"ë¬¸ì œ  ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ Swagger2ì˜ 3.0.0 ë²„ì „ì„ ì˜ì¡´ì„±ì— ì¶”ê°€í–ˆëŠ”ë°, /v2/api-docsëŠ” ì ‘ê·¼ì´ ë˜ëŠ”ë° /swagger-uiëŠ” ì ‘ê·¼ì´ ì•ˆë¨.\nì›ì¸  ì•„ë§ˆë„ dependenciesë¥¼ ì˜ëª» ì„¤ì •í–ˆì„ í™•ë¥ ì´ ë†’ë‹¤.\ní•´ê²°ë²•  Gradle ê¸°ì¤€, build.gradleì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´,\nimplementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '3.0.0' implementation group: 'io.springfox', name: 'springfox-swagger2', version: '3.0.0' ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¾¼ë‹¤.\nimplementation \u0026quot;io.springfox:springfox-boot-starter:3.0.0\u0026quot; ë‹¤ì‹œ ë¹Œë“œí•˜ê³  /swagger-ui endpointë¡œ ì ‘ì†í•´ë³´ë©´ ì„±ê³µ!ğŸ‘\n","permalink":"https://litsynp.github.io/posts/2021-09-05_2/","summary":"ë¬¸ì œ  ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ Swagger2ì˜ 3.0.0 ë²„ì „ì„ ì˜ì¡´ì„±ì— ì¶”ê°€í–ˆëŠ”ë°, /v2/api-docsëŠ” ì ‘ê·¼ì´ ë˜ëŠ”ë° /swagger-uiëŠ” ì ‘ê·¼ì´ ì•ˆë¨.\nì›ì¸  ì•„ë§ˆë„ dependenciesë¥¼ ì˜ëª» ì„¤ì •í–ˆì„ í™•ë¥ ì´ ë†’ë‹¤.\ní•´ê²°ë²•  Gradle ê¸°ì¤€, build.gradleì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´,\nimplementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '3.0.0' implementation group: 'io.springfox', name: 'springfox-swagger2', version: '3.0.0' ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¾¼ë‹¤.\nimplementation \u0026quot;io.springfox:springfox-boot-starter:3.0.0\u0026quot; ë‹¤ì‹œ ë¹Œë“œí•˜ê³  /swagger-ui endpointë¡œ ì ‘ì†í•´ë³´ë©´ ì„±ê³µ!ğŸ‘","title":"Spring Bootì—ì„œ Swagger UI ì ‘ì†ì´ ì•ˆë˜ëŠ” ê²½ìš°"},{"content":"ë¬¸ì œ  ìŠ¤í”„ë§ì—ì„œ @ControllerAdviceë¥¼ ì´ìš©í•´ ì „ì—­ exception handlerë¥¼ ì§ì ‘ ë§Œë“¤ ë•Œ, @ExceptionHandler(XXXException.class)ë¥¼ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë©”ì†Œë“œì— ë‹¬ì•˜ì„ ë•Œ,\nGetting Ambiguous @ExceptionHandler method mapped for XXXException ë¼ëŠ” ì˜¤ë¥˜ê°€ ëœ¨ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\nì›ì¸  ìŠ¤í”„ë§ì˜ @ExceptionHandlerì— ì´ë¯¸ MethodArgumentNotValidExceptionì´ ì´ë¯¸ êµ¬í˜„ì´ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ë™ì¼í•œ ë‘ ê°œì˜ í•¸ë“¤ëŸ¬ê°€ ì¡´ì¬í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.\ní•´ê²°ë²•  @ExceptionHandler ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , @Override ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ í•´ë‹¹ í•¸ë“¤ëŸ¬ë¥¼ ì§ì ‘ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤. (REF ì°¸ê³ )\nREF  [Stack Overflow] (https://stackoverflow.com/questions/51991992/getting-ambiguous-exceptionhandler-method-mapped-for-methodargumentnotvalidexce)\n","permalink":"https://litsynp.github.io/posts/2021-09-05/","summary":"ë¬¸ì œ  ìŠ¤í”„ë§ì—ì„œ @ControllerAdviceë¥¼ ì´ìš©í•´ ì „ì—­ exception handlerë¥¼ ì§ì ‘ ë§Œë“¤ ë•Œ, @ExceptionHandler(XXXException.class)ë¥¼ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë©”ì†Œë“œì— ë‹¬ì•˜ì„ ë•Œ,\nGetting Ambiguous @ExceptionHandler method mapped for XXXException ë¼ëŠ” ì˜¤ë¥˜ê°€ ëœ¨ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\nì›ì¸  ìŠ¤í”„ë§ì˜ @ExceptionHandlerì— ì´ë¯¸ MethodArgumentNotValidExceptionì´ ì´ë¯¸ êµ¬í˜„ì´ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ë™ì¼í•œ ë‘ ê°œì˜ í•¸ë“¤ëŸ¬ê°€ ì¡´ì¬í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.\ní•´ê²°ë²•  @ExceptionHandler ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , @Override ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ í•´ë‹¹ í•¸ë“¤ëŸ¬ë¥¼ ì§ì ‘ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤. (REF ì°¸ê³ )\nREF  [Stack Overflow] (https://stackoverflow.com/questions/51991992/getting-ambiguous-exceptionhandler-method-mapped-for-methodargumentnotvalidexce)","title":"Getting Ambiguous @ExceptionHandler method mapped for XXXException"},{"content":"Why use it? í”„ë¡œì íŠ¸ì—ì„œ Django REST Frameworkë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, serializerë‚˜ viewsetì„ ì‚¬ìš©í•  ë•Œ, íŠ¹íˆ ModelViewSet ì„ overrideí•  ë•Œ HTTP ë©”ì†Œë“œì— ë”°ë¥¸ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤.\nê·¸ëŸ´ ë•Œ íŠ¹ì • ë¶„ê¸°ì— ë”°ë¼ overrideí•˜ê¸° ì „ì˜ í´ë˜ìŠ¤ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë•Œê°€ ìˆë‹¤.\nì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n# ViewSet ì•ˆì˜ ë©”ì†Œë“œ def destroy(self, request, *args, **kwargs): user_id = int(self.kwargs.get(\u0026#39;pk\u0026#39;)) # ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì™€ ì¡°íšŒí•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ IDê°€ ì¼ì¹˜í•œì§€ í™•ì¸ if self.request.user.id == user_id: return super(UserViewSet, self).destroy(request, *args, **kwargs) else: response = { \u0026#39;detail\u0026#39;: \u0026#39;Delete function is not offered without authorization as the owner.\u0026#39;} return Response(response, status=status.HTTP_403_FORBIDDEN) ì•„ë¬´íŠ¼ ì˜ˆì‹œì— ê°„ëµí•˜ê²Œ ì„¤ëª…ì„ ë§ë¶™ì´ìë©´, ë‹¤ìŒê³¼ ê°™ë‹¤.\n ì œì‹œí•œ destroy í•¨ìˆ˜ëŠ” DRFì˜ ModelViewSet ë¥¼ ìƒì†í•œ í´ë˜ìŠ¤ì¸ UserViewSet ë‚´ì˜ í•¨ìˆ˜ì´ë‹¤. destroy í•¨ìˆ˜ë¥¼ overrideí•˜ì—¬ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³ ì í•œë‹¤. ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ IDì™€, URLì— ìˆëŠ” parameter (/users/:pk)ì˜ pk ë¶€ë¶„, ì¦‰ ì¡°íšŒí•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ IDê°€ ì¼ì¹˜í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤.  ì¼ì¹˜í•˜ë©´ super() ë¥¼ ì´ìš©í•˜ì—¬ ê¸°ì¡´ destroy í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ í•´ë‹¹ ì‚¬ìš©ìë¥¼ DBì—ì„œ ì‚­ì œí•œë‹¤. ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ HTTP ìƒíƒœ ì½”ë“œ 403 Forbiddenì™€ í•¨ê»˜ response ë©”ì„¸ì§€ë¥¼ JSONìœ¼ë¡œ ë°˜í™˜í•œë‹¤.    ì°¸ê³   ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ë¬¼ë¡  ë¡œê·¸ì¸ì„ í–ˆëŠ”ì§€ë¶€í„° í™•ì¸í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— permission_classesë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤. ë˜í•œ, ìœ„ì˜ í•¨ìˆ˜ë§Œ ì‘ì„±í•˜ë©´ DRFì˜ admin siteì—ì„œëŠ” DELETE ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì§€ ì•ŠëŠ”ë‹¤. (ë¬¼ë¡  í´ë¦­í•˜ë©´ ê¶Œí•œì— ë”°ë¼ reject ë  ê²ƒì´ë‹¤)  REF Using super with a class method - (Stack Overflow)\n","permalink":"https://litsynp.github.io/posts/2021-02-10/","summary":"Why use it? í”„ë¡œì íŠ¸ì—ì„œ Django REST Frameworkë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, serializerë‚˜ viewsetì„ ì‚¬ìš©í•  ë•Œ, íŠ¹íˆ ModelViewSet ì„ overrideí•  ë•Œ HTTP ë©”ì†Œë“œì— ë”°ë¥¸ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆë‹¤.\nê·¸ëŸ´ ë•Œ íŠ¹ì • ë¶„ê¸°ì— ë”°ë¼ overrideí•˜ê¸° ì „ì˜ í´ë˜ìŠ¤ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë•Œê°€ ìˆë‹¤.\nì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n# ViewSet ì•ˆì˜ ë©”ì†Œë“œ def destroy(self, request, *args, **kwargs): user_id = int(self.kwargs.get(\u0026#39;pk\u0026#39;)) # ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì™€ ì¡°íšŒí•˜ë ¤ëŠ” ì‚¬ìš©ìì˜ IDê°€ ì¼ì¹˜í•œì§€ í™•ì¸ if self.request.user.id == user_id: return super(UserViewSet, self).destroy(request, *args, **kwargs) else: response = { \u0026#39;detail\u0026#39;: \u0026#39;Delete function is not offered without authorization as the owner.","title":"[Python] super() ì´ìš©í•´ì„œ ê¸°ì¡´ ë©”ì†Œë“œ ì´ìš©í•˜ê¸°"}]